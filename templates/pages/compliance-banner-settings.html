{% extends "base.html" %}
{% load static %}
{% load util %}

{% block title %}Manage Compliance Banner{% endblock %}

{% block content %}
<h1>Manage Compliance Banner</h1>
<form method="post">
    {% csrf_token %}
    <div class="form-group">
        <label for="id_start_date">Start Date and Time</label>
        <div class="input-group date" id="start_date_picker">
            <input type="text" id="id_start_date" name="start_date" class="form-control" placeholder="Select start date and time">
            <div class="input-group-append">
                <span class="input-group-text">
                    <i class="fa fa-calendar"></i>
                </span>
            </div>
        </div>
    </div>

    <div class="form-group mt-3">
        <label for="id_end_date">End Date and Time</label>
        <div class="input-group date" id="end_date_picker">
            <input type="text" id="id_end_date" name="end_date" class="form-control" placeholder="Select end date and time">
            <div class="input-group-append">
                <span class="input-group-text">
                    <i class="fa fa-calendar"></i>
                </span>
            </div>
        </div>
    </div>

    <div class="form-group mt-3">
        <label for="id_compliance_text">Compliance Text</label>
        {{ form.compliance_text }}
        <label for="visible">Visible</label>
        <input type="checkbox" id="visible" name="visible" {% if form.visible.value %}checked{% endif %}>   
    </div>

    <button type="submit" class="btn btn-primary mt-3">Save Changes</button>
</form>

<!-- Include Bootstrap Datepicker CSS -->
<link rel="stylesheet" href="{% static 'css/bootstrap-datepicker.min.css' %}">

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Initialize the datepicker for the start date
        $('#start_date_picker').datepicker({
            format: "yyyy-mm-dd", 
            autoclose: true,
            todayHighlight: true
        });

        // Initialize the datepicker for the end date
        $('#end_date_picker').datepicker({
            format: "yyyy-mm-dd", 
            autoclose: true,
            todayHighlight: true
        });
    });

    // Update the document title
    window.document.title = "CFTS -- Compliance Banner Settings";
</script>

<!-- Include Bootstrap Datepicker JS -->
<script src="{% static 'js/bootstrap-datepicker.min.js' %}"></script>
{% endblock %}